"use strict";(globalThis.webpackChunkbeacon_docs=globalThis.webpackChunkbeacon_docs||[]).push([[1118,4298,8737],{11470:(e,n,t)=>{t.d(n,{A:()=>y});var a=t(96540),i=t(34164),r=t(17559),o=t(23104),l=t(56347),s=t(205),c=t(57485),d=t(31682),u=t(70679);function h(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,a.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:t,default:a}})=>({value:e,label:n,attributes:t,default:a}))}(t);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}function x({queryString:e=!1,groupId:n}){const t=(0,l.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(i),(0,a.useCallback)(e=>{if(!i)return;const n=new URLSearchParams(t.location.search);n.set(i,e),t.replace({...t.location,search:n.toString()})},[i,t])]}function b(e){const{defaultValue:n,queryString:t=!1,groupId:i}=e,r=p(e),[o,l]=(0,a.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:r})),[c,d]=x({queryString:t,groupId:i}),[h,b]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,i]=(0,u.Dv)(n);return[t,(0,a.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:i}),j=(()=>{const e=c??h;return m({value:e,tabValues:r})?e:null})();(0,s.A)(()=>{j&&l(j)},[j]);return{selectedValue:o,selectValue:(0,a.useCallback)(e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),b(e)},[d,b,r]),tabValues:r}}var j=t(92303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=t(74848);function f({className:e,block:n,selectedValue:t,selectValue:a,tabValues:r}){const l=[],{blockElementScrollPositionUntilNextRender:s}=(0,o.a_)(),c=e=>{const n=e.currentTarget,i=l.indexOf(n),o=r[i].value;o!==t&&(s(n),a(o))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:r.map(({value:e,label:n,attributes:a})=>(0,v.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:c,...a,className:(0,i.A)("tabs__item",g.tabItem,a?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function k({lazy:e,children:n,selectedValue:t}){const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=r.find(e=>e.props.value===t);return e?(0,a.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:r.map((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function w(e){const n=b(e);return(0,v.jsxs)("div",{className:(0,i.A)(r.G.tabs.container,"tabs-container",g.tabList),children:[(0,v.jsx)(f,{...n,...e}),(0,v.jsx)(k,{...n,...e})]})}function y(e){const n=(0,j.A)();return(0,v.jsx)(w,{...e,children:h(e.children)},String(n))}},14252:(e,n,t)=>{t.d(n,{A:()=>o});t(96540);var a=t(65195);const i={tableOfContentsInline:"tableOfContentsInline_prmo"};var r=t(74848);function o({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return(0,r.jsx)("div",{className:i.tableOfContentsInline,children:(0,r.jsx)(a.A,{toc:e,minHeadingLevel:n,maxHeadingLevel:t,className:"table-of-contents",linkClassName:null})})}},19365:(e,n,t)=>{t.d(n,{A:()=>o});t(96540);var a=t(34164);const i={tabItem:"tabItem_Ymn6"};var r=t(74848);function o({children:e,hidden:n,className:t}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,a.A)(i.tabItem,t),hidden:n,children:e})}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var a=t(96540);const i={},r=a.createContext(i);function o(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(r.Provider,{value:n},e.children)}},60392:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>d,default:()=>m,frontMatter:()=>c,metadata:()=>a,toc:()=>h});const a=JSON.parse('{"id":"wallet/getting-started/android/installation","title":"Installation","description":"How to install Beacon Android SDK","source":"@site/docs/wallet/getting-started/android/installation.mdx","sourceDirName":"wallet/getting-started/android","slug":"/wallet/getting-started/android/installation","permalink":"/wallet/getting-started/android/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/airgap-it/beacon-docs/edit/main/src/docs/wallet/getting-started/android/installation.mdx","tags":[],"version":"current","frontMatter":{"title":"Installation"},"sidebar":"wallet","previous":{"title":"Getting Started","permalink":"/wallet/getting-started/web/getting-started"},"next":{"title":"Connect to a dApp","permalink":"/wallet/getting-started/android/connect-to-dapp"}}');var i=t(74848),r=t(28453),o=t(11470),l=t(19365),s=t(14252);const c={title:"Installation"},d=void 0,u={},h=[{value:"How to install Beacon Android SDK",id:"how-to-install-beacon-android-sdk",level:2},{value:"Modules Overview",id:"modules-overview",level:2},{value:"Core",id:"core",level:3},{value:"Client",id:"client",level:3},{value:"Blockchain",id:"blockchain",level:3},{value:"Transport",id:"transport",level:3},{value:"Proguard and R8",id:"proguard-and-r8",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function p(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.A,{toc:h}),"\n",(0,i.jsx)(n.h2,{id:"how-to-install-beacon-android-sdk",children:"How to install Beacon Android SDK"}),"\n",(0,i.jsx)(n.p,{children:"To add Beacon Android SDK into your project:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Make sure the ",(0,i.jsx)(n.a,{href:"https://jitpack.io/",children:"JitPack"})," repository is included in your root ",(0,i.jsx)(n.code,{children:"build.gradle"})," file:"]}),"\n"]}),"\n",(0,i.jsxs)(o.A,{groupId:"language",defaultValue:"kotlin",values:[{label:"Groovy",value:"groovy"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(l.A,{value:"groovy",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-groovy",children:"allprojects {\n    repositories {\n        ...\n        maven { url 'https://jitpack.io' }\n    }\n}\n"})})}),(0,i.jsx)(l.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'allprojects {\n    repositories {\n        ...\n        maven("https://jitpack.io")\n    }\n}\n'})})})]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Add the dependencies:"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/airgap-it/beacon-android-sdk",children:(0,i.jsx)(n.img,{src:"https://img.shields.io/github/v/tag/airgap-it/beacon-android-sdk?label=stable&sort=semver",alt:"stable"})}),"\n",(0,i.jsx)(n.a,{href:"https://github.com/airgap-it/beacon-android-sdk",children:(0,i.jsx)(n.img,{src:"https://img.shields.io/github/v/tag/airgap-it/beacon-android-sdk?color=orange&include_prereleases&label=latest",alt:"latest"})})]}),"\n",(0,i.jsxs)(o.A,{groupId:"language",defaultValue:"kotlin",values:[{label:"Groovy",value:"groovy"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(l.A,{value:"groovy",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-groovy",children:'dependencies {\n    def beacon_version = "x.y.z"\n\n    // REQUIRED, :core\n    implementation "com.github.airgap-it.beacon-android-sdk:core:$beacon_version"\n\n    // optional, :client-wallet\n    implementation "com.github.airgap-it.beacon-android-sdk:client-wallet:$beacon_version"\n    // optional, :client-wallet-compat\n    implementation "com.github.airgap-it.beacon-android-sdk:client-wallet-compat:$beacon_version"\n\n    // optional, :blockchain-substrate\n    implementation "com.github.airgap-it.beacon-android-sdk:blockchain-substrate:$beacon_version"\n    // optional, :blockchain-tezos\n    implementation "com.github.airgap-it.beacon-android-sdk:blockchain-tezos:$beacon_version"\n\n    // optional, :transport-p2p-matrix\n    implementation "com.github.airgap-it.beacon-android-sdk:transport-p2p-matrix:$beacon_version"\n\n    ---\n\n    // alternatively, all modules\n    implementation "com.github.airgap-it:beacon-android-sdk:$beacon_version"\n}\n'})})}),(0,i.jsx)(l.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'dependencies {\n    val beaconVersion = "x.y.z"\n\n    // REQUIRED, core\n    implementation("com.github.airgap-it.beacon-android-sdk:core:$beaconVersion")\n\n    // optional, client-wallet\n    implementation("com.github.airgap-it.beacon-android-sdk:client-wallet:$beaconVersion")\n    // optional, client-wallet-compat\n    implementation("com.github.airgap-it.beacon-android-sdk:client-wallet-compat:$beaconVersion")\n\n    // optional, blockchain-substrate\n    implementation("com.github.airgap-it.beacon-android-sdk:blockchain-substrate:$beaconVersion")\n    // optional, blockchain-tezos\n    implementation("com.github.airgap-it.beacon-android-sdk:blockchain-tezos:$beaconVersion")\n\n    // optional, transport-p2p-matrix\n    implementation("com.github.airgap-it.beacon-android-sdk:transport-p2p-matrix:$beaconVersion")\n\n    ---\n\n    // alternatively, all modules\n    implementation("com.github.airgap-it:beacon-android-sdk:$beaconVersion")\n}\n'})})})]}),"\n",(0,i.jsx)(n.h2,{id:"modules-overview",children:"Modules Overview"}),"\n",(0,i.jsx)(n.p,{children:"The library modules and their relations are described below."}),"\n",(0,i.jsx)(n.h3,{id:"core",children:"Core"}),"\n",(0,i.jsx)(n.p,{children:"Core modules are the basis for other modules. They are required for the SDK to work as expected."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Module"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Dependencies"}),(0,i.jsx)(n.th,{children:"Required by"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":core"})}),(0,i.jsx)(n.td,{children:"Base for other modules"}),(0,i.jsx)(n.td,{children:"\u2716\ufe0f"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:":client-wallet"})," ",(0,i.jsx)("br",{})," ",(0,i.jsx)(n.code,{children:":client-wallet-compat"})," ",(0,i.jsx)("br",{}),(0,i.jsx)("br",{})," ",(0,i.jsx)(n.code,{children:":blockchain-substrate"})," ",(0,i.jsx)("br",{})," ",(0,i.jsx)(n.code,{children:":blockchain-tezos"})," ",(0,i.jsx)("br",{}),(0,i.jsx)("br",{})," ",(0,i.jsx)(n.code,{children:":transport-p2p-matrix"})]})]})})]}),"\n",(0,i.jsx)(n.h3,{id:"client",children:"Client"}),"\n",(0,i.jsx)(n.p,{children:"Client modules ship with Beacon implementations for different parts of the network."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Module"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Dependencies"}),(0,i.jsx)(n.th,{children:"Required by"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":client-wallet"})}),(0,i.jsx)(n.td,{children:"Beacon implementation for wallets"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":core"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":client-wallet-compat"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":client-wallet-compat"})}),(0,i.jsxs)(n.td,{children:["Provides a supplementary interface for ",(0,i.jsx)(n.code,{children:":client-wallet"})," for use without ",(0,i.jsx)(n.a,{href:"https://kotlinlang.org/docs/coroutines-overview.html",children:"Coroutines"})]}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:":core"})," ",(0,i.jsx)("br",{})," ",(0,i.jsx)(n.code,{children:":client-wallet"})]}),(0,i.jsx)(n.td,{children:"\u2716\ufe0f"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"blockchain",children:"Blockchain"}),"\n",(0,i.jsx)(n.p,{children:"Blockchain modules provide support for different blockchains."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Module"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Dependencies"}),(0,i.jsx)(n.th,{children:"Required by"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":blockchain-substrate"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.a,{href:"https://substrate.io/",children:"Substrate"})," specific components"]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":core"})}),(0,i.jsx)(n.td,{children:"\u2716\ufe0f"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":blockchain-tezos"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.a,{href:"https://tezos.com/",children:"Tezos"})," specific components"]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":core"})}),(0,i.jsx)(n.td,{children:"\u2716\ufe0f"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"transport",children:"Transport"}),"\n",(0,i.jsx)(n.p,{children:"Transport modules provide various interfaces used to establish connection between Beacon clients."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Module"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Dependencies"}),(0,i.jsx)(n.th,{children:"Required by"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":transport-p2p-matrix"})}),(0,i.jsxs)(n.td,{children:["Beacon P2P implementation which uses ",(0,i.jsx)(n.a,{href:"https://matrix.org/",children:"Matrix"})," for the communication"]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":core"})}),(0,i.jsx)(n.td,{children:"\u2716\ufe0f"})]})})]}),"\n",(0,i.jsx)(n.h2,{id:"proguard-and-r8",children:"Proguard and R8"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Beacon Android SDK"})," internally uses various libraries that may require custom ProGuard rules. If you're using ProGuard or R8, please follow the guides listed below to make sure your app works correctly after obfuscation:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/Kotlin/kotlinx.serialization#android",children:"ProGuard rules for Kotlin Serialization"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/terl/lazysodium-java/wiki/installation#proguard",children:"ProGuard rules for LazySodium"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.p,{children:"See the list of known issues and how to fix them if you run into problems after adding the dependencies:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"Native library (com/sun/jna/xxxxx/libjnidispatch.so) not found in resource path"})}),"\n",(0,i.jsxs)(n.p,{children:["Add the ",(0,i.jsx)(n.code,{children:'"net.java.dev.jna:jna:x.y.z@aar"'})," dependency ",(0,i.jsxs)(n.strong,{children:["and exclude the ",(0,i.jsx)(n.code,{children:"net.java.dev.jna"})," group from the Beacon dependencies"]}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(o.A,{groupId:"language",defaultValue:"kotlin",values:[{label:"Groovy",value:"groovy"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(l.A,{value:"groovy",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-groovy",children:'def withoutJna = { exclude group: "net.java.dev.jna" }\n\nimplementation "com.github.airgap-it.beacon-android-sdk:core:$beacon_version", withoutJna\nimplementation "com.github.airgap-it.beacon-android-sdk:client-wallet:$beacon_version", withoutJna\n...\n\ndef jna_version = "x.y.z"\n\nimplementation "net.java.dev.jna:jna:$jna_version@aar"\n'})})}),(0,i.jsx)(l.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'fun ModuleDependency.excludeJna(): ModuleDependency = apply {\n    exclude(group = "net.java.dev.jna")\n}\n\nimplementation("com.github.airgap-it.beacon-android-sdk:core:$beaconVersion") { withoutJna() }\nimplementation("com.github.airgap-it.beacon-android-sdk:client-wallet:$beaconVersion") { withoutJna() }\n...\n\nval jnaVersion = "x.y.z"\n\nimplementation("net.java.dev.jna:jna:$jnaVersion@aar")\n'})})})]})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},65195:(e,n,t)=>{t.d(n,{A:()=>x});var a=t(96540),i=t(6342);function r(e){const n=e.map(e=>({...e,parentIndex:-1,children:[]})),t=Array(7).fill(-1);n.forEach((e,n)=>{const a=t.slice(2,e.level);e.parentIndex=Math.max(...a),t[e.level]=n});const a=[];return n.forEach(e=>{const{parentIndex:t,...i}=e;t>=0?n[t].children.push(i):a.push(i)}),a}function o({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return e.flatMap(e=>{const a=o({toc:e.children,minHeadingLevel:n,maxHeadingLevel:t});return function(e){return e.level>=n&&e.level<=t}(e)?[{...e,children:a}]:a})}function l(e){const n=e.getBoundingClientRect();return n.top===n.bottom?l(e.parentNode):n}function s(e,{anchorTopOffset:n}){const t=e.find(e=>l(e).top>=n);if(t){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(l(t))?t:e[e.indexOf(t)-1]??null}return e[e.length-1]??null}function c(){const e=(0,a.useRef)(0),{navbar:{hideOnScroll:n}}=(0,i.p)();return(0,a.useEffect)(()=>{e.current=n?0:document.querySelector(".navbar").clientHeight},[n]),e}function d(e){const n=(0,a.useRef)(void 0),t=c();(0,a.useEffect)(()=>{if(!e)return()=>{};const{linkClassName:a,linkActiveClassName:i,minHeadingLevel:r,maxHeadingLevel:o}=e;function l(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(a),l=function({minHeadingLevel:e,maxHeadingLevel:n}){const t=[];for(let a=e;a<=n;a+=1)t.push(`h${a}.anchor`);return Array.from(document.querySelectorAll(t.join()))}({minHeadingLevel:r,maxHeadingLevel:o}),c=s(l,{anchorTopOffset:t.current}),d=e.find(e=>c&&c.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e));e.forEach(e=>{!function(e,t){t?(n.current&&n.current!==e&&n.current.classList.remove(i),e.classList.add(i),n.current=e):e.classList.remove(i)}(e,e===d)})}return document.addEventListener("scroll",l),document.addEventListener("resize",l),l(),()=>{document.removeEventListener("scroll",l),document.removeEventListener("resize",l)}},[e,t])}var u=t(28774),h=t(74848);function p({toc:e,className:n,linkClassName:t,isChild:a}){return e.length?(0,h.jsx)("ul",{className:a?void 0:n,children:e.map(e=>(0,h.jsxs)("li",{children:[(0,h.jsx)(u.A,{to:`#${e.id}`,className:t??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,h.jsx)(p,{isChild:!0,toc:e.children,className:n,linkClassName:t})]},e.id))}):null}const m=a.memo(p);function x({toc:e,className:n="table-of-contents table-of-contents__left-border",linkClassName:t="table-of-contents__link",linkActiveClassName:l,minHeadingLevel:s,maxHeadingLevel:c,...u}){const p=(0,i.p)(),x=s??p.tableOfContents.minHeadingLevel,b=c??p.tableOfContents.maxHeadingLevel,j=function({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return(0,a.useMemo)(()=>o({toc:r(e),minHeadingLevel:n,maxHeadingLevel:t}),[e,n,t])}({toc:e,minHeadingLevel:x,maxHeadingLevel:b});return d((0,a.useMemo)(()=>{if(t&&l)return{linkClassName:t,linkActiveClassName:l,minHeadingLevel:x,maxHeadingLevel:b}},[t,l,x,b])),(0,h.jsx)(m,{toc:j,className:n,linkClassName:t,...u})}}}]);