"use strict";(globalThis.webpackChunkbeacon_docs=globalThis.webpackChunkbeacon_docs||[]).push([[2897],{14252:(e,n,t)=>{t.d(n,{A:()=>o});t(96540);var a=t(65195);const r={tableOfContentsInline:"tableOfContentsInline_prmo"};var i=t(74848);function o({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return(0,i.jsx)("div",{className:r.tableOfContentsInline,children:(0,i.jsx)(a.A,{toc:e,minHeadingLevel:n,maxHeadingLevel:t,className:"table-of-contents",linkClassName:null})})}},24191:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"wallet/advanced/android/configuration","title":"Configuration","description":"Ignore unsupported blockchains","source":"@site/docs/wallet/advanced/android/configuration.mdx","sourceDirName":"wallet/advanced/android","slug":"/wallet/advanced/android/configuration","permalink":"/wallet/advanced/android/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/airgap-it/beacon-docs/edit/main/src/docs/wallet/advanced/android/configuration.mdx","tags":[],"version":"current","frontMatter":{"title":"Configuration"},"sidebar":"wallet","previous":{"title":"Disconnect from a dApp","permalink":"/wallet/getting-started/ios/disconnect-from-dapp"},"next":{"title":"Coroutines Alternatives","permalink":"/wallet/advanced/android/coroutines-alternatives"}}');var r=t(74848),i=t(28453),o=t(14252);const l={title:"Configuration"},s=void 0,c={},d=[{value:"Ignore unsupported blockchains",id:"ignore-unsupported-blockchains",level:2},{value:"Custom storage",id:"custom-storage",level:2},{value:"Plugins",id:"plugins",level:3},{value:"<code>:transport-p2p-matrix</code>",id:"transport-p2p-matrix",level:4},{value:"Custom Matrix nodes",id:"custom-matrix-nodes",level:2}];function u(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.A,{toc:d}),"\n",(0,r.jsx)(n.h2,{id:"ignore-unsupported-blockchains",children:"Ignore unsupported blockchains"}),"\n",(0,r.jsxs)(n.p,{children:["If ",(0,r.jsx)(n.code,{children:"BeaconWalletClient"})," encounters a structure that belongs to a blockchain that hasn't been registered in the client, it's considered an error by default and the client may fail at runtime. Usually, this means the developer has made an error and forgot to configure the client with that blockchain."]}),"\n",(0,r.jsxs)(n.p,{children:["Sometimes, however, such situations aren't the result of a developer error and shouldn't cause the app to crash. The default behaviour can therefore be overriden with the ",(0,r.jsx)(n.code,{children:"BeaconWalletClient.Builder#ignoreUnsupportedBlockchains"})," flag."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"import it.airgap.beaconsdk.client.wallet.BeaconWalletClient\n\nval beaconWallet = BeaconWalletClient {\n    ...\n\n    ignoreUnsupportedBlockchains = true\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"custom-storage",children:"Custom storage"}),"\n",(0,r.jsxs)(n.p,{children:["Beacon Android SDK is not a stateless library and bases part of its functionality on preserved data. By default the SDK stores its data in ",(0,r.jsx)(n.a,{href:"https://developer.android.com/reference/android/content/SharedPreferences",children:(0,r.jsx)(n.code,{children:"SharedPreferences"})}),". However, it is possible to override the default storage and provide your own implementation. The ",(0,r.jsx)(n.code,{children:":core"})," module ships with 3 public interfaces that can be satisfied and provided externally during the ",(0,r.jsx)(n.code,{children:"BeaconWalletClient"})," setup: ",(0,r.jsx)(n.code,{children:"Storage"}),", ",(0,r.jsx)(n.code,{children:"ExtendedStorage"})," (an extended version of ",(0,r.jsx)(n.code,{children:"Storage"}),") and ",(0,r.jsx)(n.code,{children:"SecureStorage"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"import it.airgap.beaconsdk.client.wallet.BeaconWalletClient\nimport it.airgap.beaconsdk.core.storage.ExtendedStorage\nimport it.airgap.beaconsdk.core.storage.SecureStorage\nimport it.airgap.beaconsdk.core.storage.Storage\n\nval beaconWallet = BeaconWalletClient {\n    ...\n\n    storage = MyStorage() /* or MyExtendedStorage() */\n    secureStorage = MySecureStorage()\n}\n\nclass MyStorage : Storage {\n    // implementation\n}\n\nclass MyExtendedStorage : ExtendedStorage {\n    // implementation\n}\n\nclass MySecureStorage : SecureStorage {\n    // implementation\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"plugins",children:"Plugins"}),"\n",(0,r.jsx)(n.p,{children:"Some modules may require additional data to store. Those modules usually come with their own storage plugin interfaces which can be satisfied and provided externally."}),"\n",(0,r.jsx)(n.h4,{id:"transport-p2p-matrix",children:(0,r.jsx)(n.code,{children:":transport-p2p-matrix"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:":transport-p2p-matrix"})," module defines ",(0,r.jsx)(n.code,{children:"P2pMatrixStoragePlugin"})," and ",(0,r.jsx)(n.code,{children:"ExtendedP2pMatrixStoragePlugin"})," interfaces."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"import it.airgap.beaconsdk.client.wallet.BeaconWalletClient\nimport it.airgap.beaconsdk.transport.p2p.matrix.p2pMatrix\nimport it.airgap.beaconsdk.transport.p2p.matrix.storage.ExtendedP2pMatrixStoragePlugin\nimport it.airgap.beaconsdk.transport.p2p.matrix.storage.P2pMatrixStoragePlugin\n\nval beaconWallet = BeaconWalletClient {\n    ...\n\n    use(p2pMatrix(storagePlugin = MyP2pMatrixStoragePlugin() /* or MyExtendedP2pMatrixStoragePlugin() */))\n}\n\nclass MyP2pMatrixStoragePlugin : P2pMatrixStoragePlugin {\n    // implementation\n}\n\nclass MyExtendedP2pMatrixStoragePlugin : ExtendedP2pMatrixStoragePlugin {\n    // implementation\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"custom-matrix-nodes",children:"Custom Matrix nodes"}),"\n",(0,r.jsxs)(n.p,{children:["You can provide your own Matrix node URLs while setting ",(0,r.jsx)(n.code,{children:"BeaconWalletClient"})," up with the ",(0,r.jsx)(n.code,{children:":transport-p2p-matrix"})," transport layer. Use the ",(0,r.jsx)(n.code,{children:"p2pMatrix"})," factory arguments to set your values."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:'import it.airgap.beaconsdk.client.wallet.BeaconWalletClient\nimport it.airgap.beaconsdk.transport.p2p.matrix.p2pMatrix\n\nval beaconWallet = BeaconWalletClient {\n    ...\n\n    use(p2pMatrix(matrixNodes = listOf("my.matrix.node")))\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var a=t(96540);const r={},i=a.createContext(r);function o(e){const n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),a.createElement(i.Provider,{value:n},e.children)}},65195:(e,n,t)=>{t.d(n,{A:()=>h});var a=t(96540),r=t(6342);function i(e){const n=e.map(e=>({...e,parentIndex:-1,children:[]})),t=Array(7).fill(-1);n.forEach((e,n)=>{const a=t.slice(2,e.level);e.parentIndex=Math.max(...a),t[e.level]=n});const a=[];return n.forEach(e=>{const{parentIndex:t,...r}=e;t>=0?n[t].children.push(r):a.push(r)}),a}function o({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return e.flatMap(e=>{const a=o({toc:e.children,minHeadingLevel:n,maxHeadingLevel:t});return function(e){return e.level>=n&&e.level<=t}(e)?[{...e,children:a}]:a})}function l(e){const n=e.getBoundingClientRect();return n.top===n.bottom?l(e.parentNode):n}function s(e,{anchorTopOffset:n}){const t=e.find(e=>l(e).top>=n);if(t){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(l(t))?t:e[e.indexOf(t)-1]??null}return e[e.length-1]??null}function c(){const e=(0,a.useRef)(0),{navbar:{hideOnScroll:n}}=(0,r.p)();return(0,a.useEffect)(()=>{e.current=n?0:document.querySelector(".navbar").clientHeight},[n]),e}function d(e){const n=(0,a.useRef)(void 0),t=c();(0,a.useEffect)(()=>{if(!e)return()=>{};const{linkClassName:a,linkActiveClassName:r,minHeadingLevel:i,maxHeadingLevel:o}=e;function l(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(a),l=function({minHeadingLevel:e,maxHeadingLevel:n}){const t=[];for(let a=e;a<=n;a+=1)t.push(`h${a}.anchor`);return Array.from(document.querySelectorAll(t.join()))}({minHeadingLevel:i,maxHeadingLevel:o}),c=s(l,{anchorTopOffset:t.current}),d=e.find(e=>c&&c.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e));e.forEach(e=>{!function(e,t){t?(n.current&&n.current!==e&&n.current.classList.remove(r),e.classList.add(r),n.current=e):e.classList.remove(r)}(e,e===d)})}return document.addEventListener("scroll",l),document.addEventListener("resize",l),l(),()=>{document.removeEventListener("scroll",l),document.removeEventListener("resize",l)}},[e,t])}var u=t(28774),p=t(74848);function m({toc:e,className:n,linkClassName:t,isChild:a}){return e.length?(0,p.jsx)("ul",{className:a?void 0:n,children:e.map(e=>(0,p.jsxs)("li",{children:[(0,p.jsx)(u.A,{to:`#${e.id}`,className:t??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,p.jsx)(m,{isChild:!0,toc:e.children,className:n,linkClassName:t})]},e.id))}):null}const g=a.memo(m);function h({toc:e,className:n="table-of-contents table-of-contents__left-border",linkClassName:t="table-of-contents__link",linkActiveClassName:l,minHeadingLevel:s,maxHeadingLevel:c,...u}){const m=(0,r.p)(),h=s??m.tableOfContents.minHeadingLevel,x=c??m.tableOfContents.maxHeadingLevel,f=function({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return(0,a.useMemo)(()=>o({toc:i(e),minHeadingLevel:n,maxHeadingLevel:t}),[e,n,t])}({toc:e,minHeadingLevel:h,maxHeadingLevel:x});return d((0,a.useMemo)(()=>{if(t&&l)return{linkClassName:t,linkActiveClassName:l,minHeadingLevel:h,maxHeadingLevel:x}},[t,l,h,x])),(0,p.jsx)(g,{toc:f,className:n,linkClassName:t,...u})}}}]);