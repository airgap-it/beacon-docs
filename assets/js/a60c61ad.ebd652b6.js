"use strict";(globalThis.webpackChunkbeacon_docs=globalThis.webpackChunkbeacon_docs||[]).push([[853],{61114:(n,e,o)=>{o.d(e,{A:()=>t});var a=o(96540),r=o(22279),s=o(74848);r.A.initialize({startOnLoad:!0});const t=({chart:n})=>((0,a.useEffect)(()=>{r.A.contentLoaded()},[]),(0,s.jsx)("div",{className:"mermaid",children:n}))},99062:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>d,contentTitle:()=>c,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>p});const a=JSON.parse('{"id":"advanced/flows/local-mnemonic","title":"Local Mnemonic","description":"Init","source":"@site/docs/advanced/flows/local-mnemonic.mdx","sourceDirName":"advanced/flows","slug":"/advanced/flows/local-mnemonic","permalink":"/advanced/flows/local-mnemonic","draft":false,"unlisted":false,"editUrl":"https://github.com/airgap-it/beacon-docs/edit/main/src/docs/advanced/flows/local-mnemonic.mdx","tags":[],"version":"current","frontMatter":{"title":"Local Mnemonic"},"sidebar":"docs","previous":{"title":"Ledger","permalink":"/advanced/flows/ledger-extension"},"next":{"title":"P2P Direct","permalink":"/advanced/flows/p2p-direct"}}');var r=o(74848),s=o(28453),t=o(61114);const i={title:"Local Mnemonic"},c=void 0,d={},p=[{value:"Init",id:"init",level:2},{value:"Permission Request",id:"permission-request",level:2},{value:"Operation Request",id:"operation-request",level:2},{value:"Signing Request",id:"signing-request",level:2},{value:"Broadcast Request",id:"broadcast-request",level:2}];function u(n){const e={admonition:"admonition",h2:"h2",p:"p",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"init",children:"Init"}),"\n",(0,r.jsx)(t.A,{chart:"\nsequenceDiagram\n  Popup->>Popup: User Prompt (Add/Generate Mnemonic?)\n  Popup->>Background: Save Mnemonic\n  alt generate\n      Popup->>Background: New / Save mnemonic\n      Background->>Background: Generate new Mnemonic\n  end\n  Background->>Popup: Return Mnemonic\n"}),"\n",(0,r.jsx)(e.h2,{id:"permission-request",children:"Permission Request"}),"\n",(0,r.jsx)(t.A,{chart:"\nsequenceDiagram\n  dApp->>Background: Request\n  Background->>Popup: Permission Request\n  Popup->>Popup: User confirmation\n  Popup->>Background: Permission Response\n  Background->>dApp: Response\n"}),"\n",(0,r.jsx)(e.h2,{id:"operation-request",children:"Operation Request"}),"\n",(0,r.jsx)(t.A,{chart:"\nsequenceDiagram\n  dApp->>Background: Request\n  Background->>Background: Fetch operation data\n  opt no threshold\n      Note left of Background: Everything except<br/>simple spend has<br/>to be approved\n      Background->>Popup: Operation Request\n      Popup->>Popup: User confirmation\n      Popup->>Background: Operation Response\n  end\n  Background->>Background: Forge Operation\n  Background->>Background: Sign Operation\n  Background->>Background: Broadcast\n  Background->>dApp: Response\n"}),"\n",(0,r.jsx)(e.h2,{id:"signing-request",children:"Signing Request"}),"\n",(0,r.jsx)(t.A,{chart:"\nsequenceDiagram\n  dApp->>Background: Request\n  opt no threshold\n      Note left of Background: Everything except<br/>simple spend has<br/>to be approved\n      Background->>Popup: Signing Request\n      Popup->>Popup: User confirmation\n      Popup->>Background: Signing Response\n  end\n  Background->>Background: Sign Operation\n  Background->>dApp: Response\n"}),"\n",(0,r.jsx)(e.admonition,{type:"warning",children:(0,r.jsx)(e.p,{children:"Thresholds could be abused to sign contract calls. Wallets must reject request with parameters."})}),"\n",(0,r.jsx)(e.h2,{id:"broadcast-request",children:"Broadcast Request"}),"\n",(0,r.jsx)(t.A,{chart:"\nsequenceDiagram\n  dApp->>Background: Request\n  Background->>Popup: Broascast Request\n  Popup->>Popup: User confirmation\n  Popup->>Background: Broascast Response\n  Background->>Background: Broadcast\n  Background->>dApp: Response\n"})]})}function l(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(u,{...n})}):u(n)}}}]);