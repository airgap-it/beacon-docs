"use strict";(globalThis.webpackChunkbeacon_docs=globalThis.webpackChunkbeacon_docs||[]).push([[7061],{11470:(e,n,t)=>{t.d(n,{A:()=>I});var a=t(96540),s=t(34164),o=t(17559),i=t(23104),r=t(56347),l=t(205),c=t(57485),d=t(31682),u=t(70679);function h(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,a.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:t,default:a}})=>({value:e,label:n,attributes:t,default:a}))}(t);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}function g({queryString:e=!1,groupId:n}){const t=(0,r.W6)(),s=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(s),(0,a.useCallback)(e=>{if(!s)return;const n=new URLSearchParams(t.location.search);n.set(s,e),t.replace({...t.location,search:n.toString()})},[s,t])]}function b(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,o=p(e),[i,r]=(0,a.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:o})),[c,d]=g({queryString:t,groupId:s}),[h,b]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,s]=(0,u.Dv)(n);return[t,(0,a.useCallback)(e=>{n&&s.set(e)},[n,s])]}({groupId:s}),f=(()=>{const e=c??h;return m({value:e,tabValues:o})?e:null})();(0,l.A)(()=>{f&&r(f)},[f]);return{selectedValue:i,selectValue:(0,a.useCallback)(e=>{if(!m({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);r(e),d(e),b(e)},[d,b,o]),tabValues:o}}var f=t(92303);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var w=t(74848);function y({className:e,block:n,selectedValue:t,selectValue:a,tabValues:o}){const r=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),c=e=>{const n=e.currentTarget,s=r.indexOf(n),i=o[s].value;i!==t&&(l(n),a(i))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=r.indexOf(e.currentTarget)+1;n=r[t]??r[0];break}case"ArrowLeft":{const t=r.indexOf(e.currentTarget)-1;n=r[t]??r[r.length-1];break}}n?.focus()};return(0,w.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},e),children:o.map(({value:e,label:n,attributes:a})=>(0,w.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{r.push(e)},onKeyDown:d,onClick:c,...a,className:(0,s.A)("tabs__item",v.tabItem,a?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function x({lazy:e,children:n,selectedValue:t}){const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=o.find(e=>e.props.value===t);return e?(0,a.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,w.jsx)("div",{className:"margin-top--md",children:o.map((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function P(e){const n=b(e);return(0,w.jsxs)("div",{className:(0,s.A)(o.G.tabs.container,"tabs-container",v.tabList),children:[(0,w.jsx)(y,{...n,...e}),(0,w.jsx)(x,{...n,...e})]})}function I(e){const n=(0,f.A)();return(0,w.jsx)(P,{...e,children:h(e.children)},String(n))}},16864:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(96540);const s=function(){if("undefined"==typeof window)return{width:999,height:999};const[e,n]=(0,a.useState)({width:window.innerWidth,height:window.innerHeight});return(0,a.useEffect)(()=>{function e(){n({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}},19365:(e,n,t)=>{t.d(n,{A:()=>i});t(96540);var a=t(34164);const s={tabItem:"tabItem_Ymn6"};var o=t(74848);function i({children:e,hidden:n,className:t}){return(0,o.jsx)("div",{role:"tabpanel",className:(0,a.A)(s.tabItem,t),hidden:n,children:e})}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var a=t(96540);const s={},o=a.createContext(s);function i(e){const n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(o.Provider,{value:n},e.children)}},31198:(e,n,t)=>{t.d(n,{A:()=>o});t(96540);var a=t(16864),s=t(74848);const o=function({src:e,alt:n}){let t="50%";return(0,a.A)().width<650&&(t="100%"),(0,s.jsx)("div",{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:e,alt:n,width:t})})}},60700:(e,n,t)=>{t.d(n,{A:()=>h});t(96540);const a="browserWindow_my1Q",s="browserWindowHeader_jXSR",o="buttons_uHc7",i="browserWindowAddressBar_Pd8y",r="dot_giz1",l="browserWindowMenuIcon_Vhuh",c="bar_rrRL",d="browserWindowBody_Idgs";var u=t(74848);const h=function({children:e,minHeight:n,url:t}){return(0,u.jsxs)("div",{className:a,style:{minHeight:n},children:[(0,u.jsxs)("div",{className:s,children:[(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("span",{className:r,style:{background:"#f25f58"}}),(0,u.jsx)("span",{className:r,style:{background:"#fbbe3c"}}),(0,u.jsx)("span",{className:r,style:{background:"#58cb42"}})]}),(0,u.jsx)("div",{className:i,children:t}),(0,u.jsx)("div",{className:l,children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:c}),(0,u.jsx)("span",{className:c}),(0,u.jsx)("span",{className:c})]})})]}),(0,u.jsx)("div",{className:d,children:e})]})}},74220:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>u,default:()=>g,frontMatter:()=>d,metadata:()=>a,toc:()=>p});const a=JSON.parse('{"id":"advanced/ui-elements","title":"UI Elements","description":"We strongly recommend keeping the default UI Elements.","source":"@site/docs/advanced/ui-elements.mdx","sourceDirName":"advanced","slug":"/advanced/ui-elements","permalink":"/advanced/ui-elements","draft":false,"unlisted":false,"editUrl":"https://github.com/airgap-it/beacon-docs/edit/main/src/docs/advanced/ui-elements.mdx","tags":[],"version":"current","frontMatter":{"title":"UI Elements"},"sidebar":"docs","previous":{"title":"How to Contribute to Beacon","permalink":"/guides/how-to-contribute"},"next":{"title":"Custom Block Explorer","permalink":"/advanced/custom-block-explorer"}}');var s=t(74848),o=t(28453),i=t(11470),r=t(19365),l=t(60700),c=t(31198);const d={title:"UI Elements"},u=void 0,h={},p=[{value:"Custom UI Guidelines",id:"custom-ui-guidelines",level:2},{value:"Overwriting Default UI elements",id:"overwriting-default-ui-elements",level:2}];function m(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsx)(n.p,{children:"We strongly recommend keeping the default UI Elements.\nConsistent UI helps users to interact with different dApps more easily."})}),"\n",(0,s.jsx)(n.p,{children:"The default UI elements have been designed with all wallets and user setups in mind.\nIt handles a lot of cases that are not obvious at first glance. If you really must overwrite the default UI."}),"\n",(0,s.jsx)(n.h2,{id:"custom-ui-guidelines",children:"Custom UI Guidelines"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"When the user wants to connect to a wallet, a selection of wallets must be shown.\nThe selection depends on the device the user is using and should display different options on different devices."}),"\n"]}),"\n",(0,s.jsxs)(i.A,{defaultValue:"desktop",values:[{label:"Desktop",value:"desktop"},{label:"iOS",value:"ios"},{label:"Android",value:"android"}],children:[(0,s.jsxs)(r.A,{value:"desktop",children:[(0,s.jsx)(n.p,{children:"On desktop there is only one view with some wallets and the QR code."}),(0,s.jsx)(l.A,{url:"https://mydapp.com",children:(0,s.jsx)(c.A,{src:"/img/beacon-pairing-ui.png",alt:"Beacon Pairing"})})]}),(0,s.jsxs)(r.A,{value:"ios",children:[(0,s.jsx)(n.p,{children:"On iOS, each mobile and webapp has its own entry because the device doesn't allow selection of a specific if multiple apps are installed."}),(0,s.jsxs)(l.A,{url:"https://mydapp.com",children:[(0,s.jsx)(c.A,{src:"/img/beacon-ios-pairing.png",alt:"Beacon Pairing"}),(0,s.jsx)(c.A,{src:"/img/beacon-ios-pairing-2.png",alt:"Beacon Pairing"})]})]}),(0,s.jsxs)(r.A,{value:"android",children:[(0,s.jsx)(n.p,{children:"On Android, there is one link for all mobile apps because the device lets you choose the specific app you want to open."}),(0,s.jsx)(c.A,{src:"/img/beacon-android-pairing.png",alt:"Beacon Pairing"}),(0,s.jsx)(c.A,{src:"/img/beacon-android-pairing-2.png",alt:"Beacon Pairing"})]})]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Every message sent by the dApp should trigger a persistent element on screen, indicating that a request is in progress."}),"\n"]}),"\n",(0,s.jsx)(l.A,{url:"https://mydapp.com",children:(0,s.jsx)(c.A,{src:"/img/beacon-loading.gif",alt:"Beacon Loading"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If no message has been received for a certain amount of time (eg. 5 seconds), the UI should indicate that there are potential connection issues.\nThe dApp should ",(0,s.jsx)(n.strong,{children:"NOT"})," do any automatic action at this point, because some delays are normal, especially when working with wallets that communicate\nover the P2P network."]}),"\n",(0,s.jsxs)(n.li,{children:["In the UI element that is shown, the user ",(0,s.jsx)(n.strong,{children:"SHOULD"})," have the option to ",(0,s.jsx)(n.strong,{children:"reset"}),' his connection, meaning to disconnect a wallet. This will abort the whole\nflow. The user can start the action again, which will now trigger a new "pairing" alert because the previous connection was reset.']}),"\n"]}),"\n",(0,s.jsx)(l.A,{url:"https://mydapp.com",children:(0,s.jsx)(c.A,{src:"/img/beacon-loading-open.gif",alt:"Beacon Loading Open"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["Once the Wallet receives the request, it will immediately send back an ",(0,s.jsx)(n.strong,{children:"Acknowledgement Message"}),".\nWhen this message is received in the dApp, the dApp knows that the connection is still valid and the user can handle the request.\nThe persistent UI element that is shown on screen should now be updated, indicating that we are waiting for user input on the wallet."]}),"\n"]}),"\n",(0,s.jsx)(l.A,{url:"https://mydapp.com",children:(0,s.jsx)(c.A,{src:"/img/beacon-awaiting.gif",alt:"Beacon Awaiting"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"When the response is received, the persistent element can be removed again and the successful (or error) response can be displayed to the user and the application flow can be continued."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"overwriting-default-ui-elements",children:"Overwriting Default UI elements"}),"\n",(0,s.jsx)(n.p,{children:"You can overwrite all of the default UI elements by doing the following."}),"\n",(0,s.jsxs)(i.A,{groupId:"beaconOrTaquitoUE1",defaultValue:"beacon",values:[{label:"Beacon",value:"beacon"},{label:"Taquito",value:"taquito"}],children:[(0,s.jsx)(r.A,{value:"beacon",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:"live",live:!0,children:'// beacon disable ui\nimport {\n  BeaconEvent,\n  DAppClient,\n  defaultEventCallbacks,\n} from "@airgap/beacon-sdk";\n\nconst dAppClient = new DAppClient({\n  name: "Beacon Docs",\n  disableDefaultEvents: true, // Disable all events / UI. This also disables the pairing alert.\n  eventHandlers: {\n    // To keep the pairing alert, we have to add the following default event handlers back\n    [BeaconEvent.PAIR_INIT]: {\n      handler: defaultEventCallbacks.PAIR_INIT,\n    },\n    [BeaconEvent.PAIR_SUCCESS]: {\n      handler: defaultEventCallbacks.PAIR_SUCCESS,\n    },\n  },\n});\n\ntry {\n  console.log("Requesting permissions...");\n  const permissions = await dAppClient.requestPermissions();\n  console.log("Got permissions:", permissions.address);\n} catch (error) {\n  console.error("Got error:", error);\n}\n'})})}),(0,s.jsx)(r.A,{value:"taquito",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:"live",live:!0,children:'// taquito disable ui\nimport { BeaconEvent, defaultEventCallbacks } from "@airgap/beacon-sdk";\nimport { TezosToolkit } from "@taquito/taquito";\nimport { BeaconWallet } from "@taquito/beacon-wallet";\n\nconst Tezos = new TezosToolkit("https://mainnet.api.tez.ie");\nconst wallet = new BeaconWallet({\n  name: "Beacon Docs Taquito",\n  disableDefaultEvents: true, // Disable all events / UI. This also disables the pairing alert.\n  eventHandlers: {\n    // To keep the pairing alert, we have to add the following default event handlers back\n    [BeaconEvent.PAIR_INIT]: {\n      handler: defaultEventCallbacks.PAIR_INIT,\n    },\n    [BeaconEvent.PAIR_SUCCESS]: {\n      handler: defaultEventCallbacks.PAIR_SUCCESS,\n    },\n  },\n});\n\nTezos.setWalletProvider(wallet);\n\ntry {\n  await wallet.requestPermissions();\n  const address = await wallet.getPKH();\n  console.log("Got permissions:", address);\n} catch (error) {\n  console.error("Got error:", error);\n}\n'})})})]}),"\n",(0,s.jsx)(n.p,{children:"You can also add your own logic to specific events and still keep the original behaviour."}),"\n",(0,s.jsxs)(n.p,{children:["The same can be achieved without overwriting the default event handler by ",(0,s.jsx)(n.a,{href:"/guides/subscribe-to-event",children:"subscribing to an event"}),". This method is preferred, if possible."]}),"\n",(0,s.jsxs)(i.A,{groupId:"beaconOrTaquitoUE2",defaultValue:"beacon",values:[{label:"Beacon",value:"beacon"},{label:"Taquito",value:"taquito"}],children:[(0,s.jsx)(r.A,{value:"beacon",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:"live",live:!0,children:'// beacon request permission events\nimport {\n  BeaconEvent,\n  DAppClient,\n  defaultEventCallbacks,\n  P2PPairingRequest,\n  PostMessagePairingRequest,\n  NetworkType,\n  WalletConnectPairingRequest,\n  AnalyticsInterface,\n} from "@airgap/beacon-sdk";\n\nconst dAppClient = new DAppClient({\n  name: "Beacon Docs",\n  eventHandlers: {\n    [BeaconEvent.PAIR_INIT]: {\n      // Every BeaconEvent can be overriden by passing a handler here.\n      // The default will not be executed anymore. To keep the default,\n      // you will have to call it again.\n      handler: async (\n        data: {\n          p2pPeerInfo: () => Promise<P2PPairingRequest>;\n          postmessagePeerInfo: () => Promise<PostMessagePairingRequest>;\n          walletConnectPeerInfo: () => Promise<WalletConnectPairingRequest>;\n          networkType: NetworkType;\n          abortedHandler?(): void;\n          disclaimerText?: string;\n          analytics: AnalyticsInterface;\n          featuredWallets?: string[];\n        },\n        eventCallback?: any[] | undefined,\n      ): Promise<void> => {\n        await defaultEventCallbacks.PAIR_INIT(data); // Add this if you want to keep the default behaviour.\n        console.log("syncInfo", data, eventCallback);\n      },\n    },\n  },\n});\n\ntry {\n  console.log("Requesting permissions...");\n  const permissions = await dAppClient.requestPermissions();\n  console.log("Got permissions:", permissions.address);\n} catch (error) {\n  console.error("Got error:", error);\n}\n'})})}),(0,s.jsx)(r.A,{value:"taquito",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:"live",live:!0,children:'// taquito request permission events\nimport { TezosToolkit } from "@taquito/taquito";\nimport { BeaconWallet } from "@taquito/beacon-wallet";\nimport {\n  BeaconEvent,\n  DAppClient,\n  defaultEventCallbacks,\n  P2PPairingRequest,\n  PostMessagePairingRequest,\n  NetworkType,\n  WalletConnectPairingRequest,\n  AnalyticsInterface,\n} from "@airgap/beacon-sdk";\n\nconst Tezos = new TezosToolkit("https://mainnet.api.tez.ie");\nconst wallet = new BeaconWallet({\n  name: "Beacon Docs Taquito",\n  eventHandlers: {\n    [BeaconEvent.PAIR_INIT]: {\n      // Every BeaconEvent can be overriden by passing a handler here.\n      // The default will not be executed anymore. To keep the default,\n      // you will have to call it again.\n      handler: async (\n        data: {\n          p2pPeerInfo: () => Promise<P2PPairingRequest>;\n          postmessagePeerInfo: () => Promise<PostMessagePairingRequest>;\n          walletConnectPeerInfo: () => Promise<WalletConnectPairingRequest>;\n          networkType: NetworkType;\n          abortedHandler?(): void;\n          disclaimerText?: string;\n          analytics: AnalyticsInterface;\n          featuredWallets?: string[];\n        },\n        eventCallback?: any[] | undefined,\n      ): Promise<void> => {\n        await defaultEventCallbacks.PAIR_INIT(data); // Add this if you want to keep the default behaviour.\n        console.log("syncInfo", data, eventCallback);\n      },\n    },\n  },\n});\n\nTezos.setWalletProvider(wallet);\n\ntry {\n  console.log("Requesting permissions...");\n  const permissions = await wallet.client.requestPermissions();\n  console.log("Got permissions:", permissions.address);\n} catch (error) {\n  console.error("Got error:", error);\n}\n'})})})]}),"\n",(0,s.jsx)(n.p,{children:'The closing of the pairing alert can not be listened to by default. The reason for this is the delay in the P2P connections.\nIt is possible that a user scans the pairing QR code with his wallet and then closes the alert while waiting for the connection to be established.\nIf the dApp interprets the "closing" of the alert as an abort, and a few seconds later the connection is established successfully, the behaviour could be unexpected.'}),"\n",(0,s.jsx)(n.p,{children:"If you still want to be notified of the closing of the pairing window, you can do it in the following way, while keeping the default behaviour."}),"\n",(0,s.jsxs)(i.A,{groupId:"beaconOrTaquitoUE3",defaultValue:"beacon",values:[{label:"Beacon",value:"beacon"},{label:"Taquito",value:"taquito"}],children:[(0,s.jsx)(r.A,{value:"beacon",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:"live",live:!0,children:'// beacon request permission alert\nimport {\n  BeaconEvent,\n  DAppClient,\n  defaultEventCallbacks,\n  P2PPairingRequest,\n  PostMessagePairingRequest,\n  NetworkType,\n  WalletConnectPairingRequest,\n  AnalyticsInterface,\n} from "@airgap/beacon-sdk";\n\nconst dAppClient = new DAppClient({\n    name: "Beacon Docs",\n    eventHandlers: {\n      [BeaconEvent.PAIR_INIT]: {\n        // Every BeaconEvent can be overriden by passing a handler here.\n        // The default will not be executed anymore. To keep the default,\n        // you will have to call it again.\n        handler: async (data: {\n          p2pPeerInfo: () => Promise<P2PPairingRequest>;\n          postmessagePeerInfo: () => Promise<PostMessagePairingRequest>;\n          walletConnectPeerInfo: () => Promise<WalletConnectPairingRequest>;\n          networkType: NetworkType;\n          abortedHandler?(): void;\n          disclaimerText?: string;\n          analytics: AnalyticsInterface;\n          featuredWallets?: string[];\n        }): Promise<void> => {\n          // If you want to attach your own "on alert closed" handler\n          // eslint-disable-next-line @typescript-eslint/unbound-method\n          const oldHandler = data.abortedHandler;\n          const newHandler = (): void => {\n            if (oldHandler) {\n              // Make sure to call the internal abortedHandler\n              oldHandler();\n            }\n            // Add your own logic here\n            console.log("My logic");\n\n          data.abortedHandler = newHandler; // Replace the internal abortedHandler with the new one\n          await defaultEventCallbacks.PAIR_INIT(data); // Add this if you want to keep the default behaviour.\n          console.log("syncInfo", data);\n        },\n      },\n    },\n  });\n\n  try {\n    console.log("Requesting permissions...");\n    const permissions = await dAppClient.requestPermissions();\n    console.log("Got permissions:", permissions.address);\n  } catch (error) {\n    console.error("Got error:", error);\n  }\n\n'})})}),(0,s.jsx)(r.A,{value:"taquito",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:"live",live:!0,children:'// taquito request permission alert\nimport { TezosToolkit } from "@taquito/taquito";\nimport { BeaconWallet } from "@taquito/beacon-wallet";\nimport {\n  BeaconEvent,\n  DAppClient,\n  defaultEventCallbacks,\n  P2PPairingRequest,\n  PostMessagePairingRequest,\n  NetworkType,\n  WalletConnectPairingRequest,\n  AnalyticsInterface,\n} from "@airgap/beacon-sdk";\n\nconst Tezos = new TezosToolkit("https://mainnet.api.tez.ie");\n  const wallet = new BeaconWallet({\n    name: "Beacon Docs Taquito",\n    eventHandlers: {\n      [BeaconEvent.PAIR_INIT]: {\n        // Every BeaconEvent can be overriden by passing a handler here.\n        // The default will not be executed anymore. To keep the default,\n        // you will have to call it again.\n        handler: async (data: {\n          p2pPeerInfo: () => Promise<P2PPairingRequest>;\n          postmessagePeerInfo: () => Promise<PostMessagePairingRequest>;\n          walletConnectPeerInfo: () => Promise<WalletConnectPairingRequest>;\n          networkType: NetworkType;\n          abortedHandler?(): void;\n          disclaimerText?: string;\n          analytics: AnalyticsInterface;\n          featuredWallets?: string[];\n        }): Promise<void> => {\n          // If you want to attach your own "on alert closed" handler\n          // eslint-disable-next-line @typescript-eslint/unbound-method\n          const oldHandler = data.abortedHandler;\n          const newHandler = (): void => {\n            if (oldHandler) {\n              // Make sure to call the internal abortedHandler\n              oldHandler();\n            }\n            // Add your own logic here\n            console.log("My logic");\n\n          data.abortedHandler = newHandler; // Replace the internal abortedHandler with the new one\n          await defaultEventCallbacks.PAIR_INIT(data); // Add this if you want to keep the default behaviour.\n          console.log("syncInfo", data);\n        },\n      },\n    },\n  });\n\n  Tezos.setWalletProvider(wallet);\n\n  try {\n    console.log("Requesting permissions...");\n    const permissions = await wallet.client.requestPermissions();\n    console.log("Got permissions:", permissions.address);\n  } catch (error) {\n    console.error("Got error:", error);\n  }\n\n'})})})]})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}}}]);