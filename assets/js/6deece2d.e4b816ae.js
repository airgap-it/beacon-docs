"use strict";(globalThis.webpackChunkbeacon_docs=globalThis.webpackChunkbeacon_docs||[]).push([[1957],{28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var i=t(96540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}},73635:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"post-mortem-4","title":"Postmortem Incident 4","description":"Date: 2025-02-05","source":"@site/docs/post-mortem-4.md","sourceDirName":".","slug":"/post-mortem-4","permalink":"/post-mortem-4","draft":false,"unlisted":false,"editUrl":"https://github.com/airgap-it/beacon-docs/edit/main/src/docs/post-mortem-4.md","tags":[],"version":"current","frontMatter":{"title":"Postmortem Incident 4","slug":"/post-mortem-4"},"sidebar":"docs","previous":{"title":"Postmortem Incident 3","permalink":"/post-mortem-3"},"next":{"title":"Postmortem Incident 5","permalink":"/post-mortem-5"}}');var s=t(74848),r=t(28453);const o={title:"Postmortem Incident 4",slug:"/post-mortem-4"},l=void 0,d={},a=[{value:"Conclusion",id:"conclusion",level:2},{value:"Learnings",id:"learnings",level:2},{value:"Timeline",id:"timeline",level:2},{value:"Appendix",id:"appendix",level:2}];function c(e){const n={a:"a",br:"br",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Date:"})," 2025-02-05"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Authors:"})," Isacco Sordo"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Status:"})," Complete, action items in progress"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Summary:"}),(0,s.jsx)(n.br,{}),"\n","A DNS resolution issue on our primary provider caused widespread service outages. The inability to resolve the DNS records for our first node triggered alerts and impacted the availability of our entire infrastructure."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Impact:"}),(0,s.jsx)(n.br,{}),"\n","All servers relying on the affected DNS provider experienced downtime. Users were unable to access services until the DNS provider restored functionality, leading to service degradation."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Root Causes:"}),(0,s.jsx)(n.br,{}),"\n","The incident began when the first node experienced DNS resolution problems at 04:34, which was promptly escalated via pager duty. The following factors contributed to the severity of the outage:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Single DNS Provider Dependency:"})," Our infrastructure relied solely on one DNS provider. When the provider encountered issues, there was no immediate fallback, which propagated the failure across all nodes."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"External Provider Outage:"})," The DNS provider experienced multiple service degradations (evidenced by a broken hotline, down status page, and non-responsive ticket system), leaving us with limited channels for resolution."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Delayed Communication:"})," Initial email support requests did not generate an autoresponse, delaying our understanding of the outage status."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Affected Systems:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"All Dependent Servers:"})," Since the DNS failure impacted the resolution for all servers using this provider, services across our infrastructure were affected."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution:"}),(0,s.jsx)(n.br,{}),"\n","Two separate remediation steps were implemented:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Immediate Escalation and Monitoring:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"At 04:34, the DNS resolution issue was detected and pager duty was activated."}),"\n",(0,s.jsx)(n.li,{children:"Continuous calls to the hotline and monitoring of the provider\u2019s status page helped confirm that the provider was facing a widespread outage."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Provider Communication and Failover Preparation:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["At 08:20 we received an answer from ",(0,s.jsx)(n.a,{href:"mailto:support@metanet.ch",children:"support@metanet.ch"})," confirming that they were looking into the issue."]}),"\n",(0,s.jsx)(n.li,{children:"Subsequent tests at 08:30 confirmed that DNS was restarted."}),"\n",(0,s.jsx)(n.li,{children:"A public update was shared via Slack and Twitter at 08:40 informing users of recovery."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Detection:"}),(0,s.jsx)(n.br,{}),"\n","The issue was first detected at 04:34 via our monitoring system, which flagged DNS resolution problems. The first node\u2019s inability to resolve DNS triggered a pager duty alert. Despite multiple communication attempts with the DNS provider, confirmation of recovery only came after several hours, highlighting the need for an alternative provider."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Action Items:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Action Item"}),(0,s.jsx)(n.th,{children:"Owner"}),(0,s.jsx)(n.th,{children:"State"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Implement dual DNS provider configuration"}),(0,s.jsx)(n.td,{children:"Lukas"}),(0,s.jsx)(n.td,{children:"IN PROGRESS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Develop a public status page for real-time outage information"}),(0,s.jsx)(n.td,{children:"Lukas"}),(0,s.jsx)(n.td,{children:"PLANNED"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Review and improve internal escalation procedures for third-party outages"}),(0,s.jsx)(n.td,{children:"Lukas"}),(0,s.jsx)(n.td,{children:"COMPLETE"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsx)(n.p,{children:"This incident demonstrated that reliance on a single DNS provider can bring down all connected services. The DNS outage not only impacted our availability but also delayed communication with the provider, exacerbating the downtime. Although recovery was achieved within a few hours, the incident underlines the need for redundant DNS providers. The learning from this incident will drive changes in our infrastructure to better handle similar future events."}),"\n",(0,s.jsx)(n.h2,{id:"learnings",children:"Learnings"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Redundancy is Key:"}),(0,s.jsx)(n.br,{}),"\n","Relying on a single DNS provider creates a single point of failure. We must implement dual DNS provider support to ensure continuous service availability even if one provider fails."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"timeline",children:"Timeline"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"04:34:"})," DNS resolution problem detected on the first node \u2192 Pager Duty alert raised."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"04:40:"})," Engineer assigned to the case begins initial investigation."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"04:50:"})," Preliminary diagnostics suggest DNS issues; contact made with DNS provider."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"04:52:"})," Confirmation that the DNS provider is experiencing an outage."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"04:55:"})," Hotline called; phone line is non-responsive."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"05:00:"})," Provider\u2019s status page is confirmed down."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"05:05:"})," Attempted contact via the provider\u2019s ticket system fails as it is unresponsive."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"05:10:"})," An email is sent to ",(0,s.jsx)(n.a,{href:"mailto:support@metanet.ch",children:"support@metanet.ch"})," with no immediate autoresponse."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"05:20:"})," Team explores alternative resolution options."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"05:30:"})," Continued attempts to contact provider hotline."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"08:20:"})," Response received via email; provider confirms that they were looking into the issue."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"08:30:"})," Initial tests show positive DNS resolution across all nodes."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"08:40:"})," Update posted on Slack and Twitter confirming service recovery."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"appendix",children:"Appendix"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://support.metanet.ch/statusMessage-592.html",children:"Status report by MetaNet"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);