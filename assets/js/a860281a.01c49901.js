"use strict";(globalThis.webpackChunkbeacon_docs=globalThis.webpackChunkbeacon_docs||[]).push([[7218],{13343:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"advanced/flows/p2p-direct","title":"P2P Direct","description":"Init","source":"@site/docs/advanced/flows/p2p-direct.mdx","sourceDirName":"advanced/flows","slug":"/advanced/flows/p2p-direct","permalink":"/advanced/flows/p2p-direct","draft":false,"unlisted":false,"editUrl":"https://github.com/airgap-it/beacon-docs/edit/main/src/docs/advanced/flows/p2p-direct.mdx","tags":[],"version":"current","frontMatter":{"title":"P2P Direct"},"sidebar":"docs","previous":{"title":"Local Mnemonic","permalink":"/advanced/flows/local-mnemonic"},"next":{"title":"P2P Extension","permalink":"/advanced/flows/p2p-extension"}}');var s=t(74848),l=t(28453),i=t(61114);const r={title:"P2P Direct"},o=void 0,d={},c=[{value:"Init",id:"init",level:2},{value:"Permission Request",id:"permission-request",level:2},{value:"Operation Request",id:"operation-request",level:2},{value:"Signing Request",id:"signing-request",level:2},{value:"Broadcast Request",id:"broadcast-request",level:2}];function p(e){const n={admonition:"admonition",h2:"h2",p:"p",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"init",children:"Init"}),"\n",(0,s.jsx)(i.A,{chart:"\nsequenceDiagram\n  dApp->>Wallet: Show QR Code (publicKey exchange)\n  Wallet->>Wallet: User scans QR code\n  Wallet->>dApp: Send own publicKey to dApp, connection established\n"}),"\n",(0,s.jsx)(n.h2,{id:"permission-request",children:"Permission Request"}),"\n",(0,s.jsx)(i.A,{chart:"\nsequenceDiagram\n  dApp->>Wallet: User Prompt (Do you want to pair?)\n  Wallet->>Wallet: Grant permissions\n  Wallet->>dApp: Return Address & Permissions\n"}),"\n",(0,s.jsx)(n.h2,{id:"operation-request",children:"Operation Request"}),"\n",(0,s.jsx)(i.A,{chart:"\nsequenceDiagram\n  dApp->>Wallet: Request\n  opt no threshold\n      Wallet->>Wallet: User confirmation\n  end\n  Wallet->>Wallet: Forge Operation\n  Wallet->>Wallet: Sign\n  Wallet->>Wallet: Broadcast\n  Wallet->>dApp: Response\n"}),"\n",(0,s.jsx)(n.h2,{id:"signing-request",children:"Signing Request"}),"\n",(0,s.jsx)(i.A,{chart:"\nsequenceDiagram\n  dApp->>Wallet: Request\n  opt no threshold\n      Wallet->>Wallet: User confirmation\n  end\n  Wallet->>Wallet: Sign\n  Wallet->>dApp: Response\n"}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"Thresholds could be abused to sign contract calls. Wallets must reject request with parameters."})}),"\n",(0,s.jsx)(n.h2,{id:"broadcast-request",children:"Broadcast Request"}),"\n",(0,s.jsx)(i.A,{chart:"\nsequenceDiagram\n  dApp->>Wallet: Request\n  Wallet->>Wallet: User confirmation\n  Wallet->>Wallet: Broadcast\n  Wallet->>dApp: Response\n"})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},61114:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(96540),s=t(22279),l=t(74848);s.A.initialize({startOnLoad:!0});const i=({chart:e})=>((0,a.useEffect)(()=>{s.A.contentLoaded()},[]),(0,l.jsx)("div",{className:"mermaid",children:e}))}}]);